```c
#include "reg51.h"
#include "intrins.h"

sfr WKTCL = 0xAA;
sfr WKTCH = 0xAB;
sbit LED1 = P3^1;     // 按实际改
sbit LED2 = P3^0;

void delay_ms(unsigned int ms){
    unsigned int i, j;
    for(i = 0; i < ms; i++)
        for(j = 0; j < 1100; j++);
}

void main(void)
{
    // 先灭
    LED1 = 1;
    LED2 = 1;

    // 使能 WKT，设置较大间隔
    WKTCL = 0xFF;     // ≈124ms/次
    WKTCH = 0x80;     // 最高位1=使能

    while(1){
        // 醒来后可见地停留一会儿再睡
        LED1 = !LED1;           // 翻转（Active-Low）
        LED2 = !LED2;
        delay_ms(1500);          // 给人眼看的时间

        PCON = 0x02;            // 进 STOP
        _nop_(); _nop_();       // 稍作保护延时
        // 到这儿 MCU 睡了，等 WKT 到时再自动唤醒继续循环
    }
}
```
